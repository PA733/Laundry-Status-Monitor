openapi: 3.1.0
info:
  title: Laundry Status API
  version: 1.0.0
  description: API for querying the status of laundry machines in dormitories.
  contact:
    name: API Support
    email: support@example.com
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
servers:
  - url: /api
tags:
  - name: Dorms
    description: Operations related to dormitories.
  - name: Machines
    description: Operations related to laundry machines.
  - name: Subscriptions
    description: Web push subscriptions
paths:
  /dorms:
    $ref: './paths/dorms.yaml'
  /dorms/{dorm_id}/machines:
    $ref: './paths/machines.yaml'
  /subscriptions:
    $ref: './paths/subscriptions.yaml'
  /vapid_public_key:
    $ref: './paths/vapid.yaml'
components:
  schemas:
    Dorm:
      $ref: './components/schemas/dorm.yaml'
    Machine:
      $ref: './components/schemas/machine.yaml'
    Subscription:
      $ref: './components/schemas/subscription.yaml'
    SubscriptionCreate:
      $ref: './components/schemas/subscription_create.yaml'
    SubscriptionDelete:
      $ref: './components/schemas/subscription_delete.yaml'
    Error:
      $ref: './components/schemas/error.yaml'
    VAPIDKey:
      $ref: './components/schemas/vapid_key.yaml'
  parameters:
    DormID:
      $ref: './components/parameters/dorm_id.yaml'
    AtTimestamp:
      $ref: './components/parameters/at_timestamp.yaml'